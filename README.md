# restaurantProject

## 專案概述
這是一個餐廳管理系統，提供菜單管理和帳單管理的 RESTful Web 服務

## 使用技術
* **後端技術**：Java / Spring Boot 3.2.3
* **資料層技術**：MyBatis-plus
* **Database**：MySQL

## 主要功能與技術細節

### 資料庫表
- **items**：儲存菜單資訊（名稱、描述、圖片、價格）
- **orders**：儲存訂單資訊（品項、數量、訂單時間）
- **details** 和 **item_detail**：儲存菜單的詳細分類
- **bills** 和 **bill_order**：儲存帳單資訊和訂單與帳單的關聯

### 系統需求與功能設計

#### 菜單管理 (Menu Management)
1. **CRUD 操作**：對 `items` 表進行操作
    - 菜單項目包括：名稱、描述、圖片、價格
   
2. **菜單詳細資訊**：
    - 從 `details` 和 `item_detail` 表中取得菜單的附加細節，於CRUD 操作時一同處理

3. **分頁與搜索**：
    - 菜單分頁查詢
    - 按名稱、描述和類別進行關鍵字搜索

#### 帳單管理 (Bill Order Management)
1. **CRUD 操作**：對 `bills` 和 `orders` 表進行操作
    - 新建帳單時，會將相關的訂單添加到帳單中
    - 更新帳單中的訂單時，可增加菜單品項、修改品項數量、刪減菜單品項

2. **檢查帳單**：
    - 返回帳單的所有詳細資訊，包括所有菜單品項、每個菜單品項的數量，以及該菜單品項的總價
    - 根據菜單品項的單價和數量計算出總價，並返回帳單的所有詳細資訊。

### 資料庫表結構設計：

1. **items 表**：
    - 菜單的基本資料，包括名稱、描述、圖片和價格
2. **orders 表**：
    - 訂單的內容，包括菜品 ID、菜品數量和下單時間
3. **details 和 item_detail 表**：
    - 菜品的分類細節，說明菜品的類型和食材
4. **bills 表**：
    - 帳單基本內容，包含每個帳單的 ID
5. **bill_order 表**：
    - 帳單與訂單之間的關聯，記錄每個帳單下所包含的訂單
---

### 系統 API 設計：

#### 菜單管理 API (Menu Management)

- **GET /menus**: 分頁查詢取得所有菜單品項
    - 請求參數：
        - `page`: 當前頁碼
        - `size`: 每頁顯示的菜單數量
  
- **GET /menus/search**: 根據關鍵字搜尋菜單
    - 請求參數：
        - `keyword`: 搜索關鍵字

- **POST /menus**: 創建新菜單項目
    - 請求體：菜單項目的詳細信息（名稱、描述、圖片、價格等）

- **PUT /menus/{id}**: 更新指定菜單品項的資料
    - 請求參數：
        - `id`: 菜單品項的 ID
    - 請求體：更新後的菜單項目信息

- **DELETE /menus/{id}**: 刪除指定菜單品項
    - 請求參數：
        - `id`: 菜單品項的 ID

#### 帳單管理 API (Bill Order Management)

- **GET /bills/{billId}/check**: 取得指定帳單的詳細內容
    - 請求參數：
        - `billId`: 帳單的 ID
    - 返回結果：
        - 包含該帳單所有菜單品項、數量、總價等資料

- **POST /bills**: 新建帳單及其相關訂單
    - 請求體：帳單資料和訂單列表

- **PUT /bills/{billId}**: 更新指定帳單的菜單品項或數量
    - 請求參數：
        - `billId`: 帳單的 ID
    - 請求體：需要更新的訂單內容




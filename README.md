# restaurantProject
## 專案概述
這是一個餐廳管理系統，提供菜單管理和帳單管理的 RESTful Web 服務，旨在幫助餐廳管理菜單項目、訂單和帳單，並計算每個帳單的總價
## 使用技術
* **後端技術**：Java / Spring Boot 3.2.3
* **資料層技術**：MyBatis-plus
* **Database**：MySQL
* **API 文件生成**：Swagger / SpringDocL
## 主要功能與技術細節
### 資料庫表
- **items**：儲存菜單資訊，包括名稱、描述、圖片和價格
- **orders**：儲存訂單資訊，包括菜品ID、數量、訂單時間等
- **details** 和 **item_detail**：儲存菜單的分類信息，像是類型（素食、經典等）、食材（奶酪、雞肉等）
- **bills** 和 **bill_order**：儲存帳單資訊和訂單與帳單的關聯，記錄每個帳單的所有訂單
### 需求與功能設計
#### 菜單管理 (Menu Management)
1. **CRUD 操作**：對 items 表進行操作。每個菜單項目包括名稱、描述、圖片、價格等基本資訊   
2. **菜單詳細資訊**：從 details 和 item_detail 表中取得菜單的附加細節。新增菜單項目時一同創建詳細資訊
3. **分頁與搜索**：
    - 菜單的分頁查詢（使用 page 和 size 參數）
    - 按名稱、描述、類別等字段進行關鍵字搜索
#### 帳單管理 (Bill Order Management)
1. **CRUD 操作**：
    - 創建新帳單時，將菜單項目和訂單一起保存到 orders 和 bills 表中
    - 更新帳單中的訂單時，可增加菜單品項、修改品項數量、刪減菜單品項
2. **檢查帳單**：通過 billId 查詢該帳單中的所有菜單項目，計算每個菜單項目的總價並返回帳單詳情
### 資料庫表結構設計：
1. **items 表**：
    - 菜單的基本資料，包括名稱、描述、圖片和價格
2. **orders 表**：
    - 訂單的內容，包括菜品 ID、菜品數量和下單時間
3. **details 和 item_detail 表**：
    - 菜品的分類細節，例如素食、BBQ、義大利等
4. **bills 表**：
    - 帳單基本內容，每個帳單有唯一的 billId
5. **bill_order 表**：
    - 帳單與訂單之間的關聯，記錄每個帳單下所包含的訂單
---
### 系統 API 設計
#### 菜單管理 API (Menu Management)
- **GET /menus**: 分頁查詢所有菜單品項
    - 請求參數：
        - page: 當前頁碼
        - size: 每頁顯示的菜單數量
        - keyword: 搜索關鍵字（可選，預設為空）
- **GET /menus/search**: 根據關鍵字搜尋菜單
    - 請求參數：
        - keyword: 搜索關鍵字
- **POST /menus**: 創建新菜單項目
    - 請求體：菜單項目的詳細信息（名稱、描述、圖片、價格等）
- **PUT /menus/{id}**: 更新指定菜單品項的資料
    - 請求參數：
        - id: 菜單品項的 ID
    - 請求體：更新後的菜單項目信息
- **DELETE /menus/{id}**: 刪除指定菜單品項
    - 請求參數：
        - id: 菜單品項的 ID
#### 帳單管理 API (Bill Order Management)
- **GET /bills/{billId}/check**: 取得指定帳單的詳細內容
    - 請求參數：
        -billId: 帳單的 ID
    - 返回結果：
        - 包含該帳單所有菜單品項、數量、總價等資料
- **POST /bills**: 新建帳單及其相關訂單
    - 請求體：帳單資料和訂單列表
- **PUT /bills/{billId}**: 更新指定帳單的菜單品項或數量
    - 請求參數：
        - billId: 帳單的 ID
    - 請求體：需要更新的訂單內容




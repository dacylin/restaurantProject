# restaurantProject

## 專案概述：
這是一個餐廳管理系統，提供菜單管理和帳單管理的 RESTful Web 服務

## 使用技術
* **後端技術**：Java / Spring Boot 3.2.3
* **資料層技術**：MyBatis-plus
* **Database**：MySQL

## 主要功能與技術細節：

### 資料庫表：
- **items**：儲存菜單資訊（名稱、描述、圖片、價格）
- **orders**：儲存訂單資訊（項目、數量、訂單時間）
- **details** 和 **item_detail**：儲存菜單的詳細分類
- **bills** 和 **bill_order**：儲存帳單資訊和訂單與帳單的關聯

### 系統需求與功能設計：

#### 菜單管理 (Menu Management)
1. **CRUD 操作**：對 `items` 表進行操作，支持創建、查詢、更新和刪除菜單項目
    - 菜單項目包括：名稱、描述、圖片、價格、附加詳細信息（例如菜品類型、食材等）
   
2. **菜單詳細資訊**：
    - 從 `details` 和 `item_detail` 表中獲取菜單的附加詳細信息，這些表存儲菜單的類型、食材等分類數據。

3. **分頁與搜索**：
    - 支持菜單項目的分頁查詢。
    - 支持按名稱、描述和類別進行關鍵字搜索，查找匹配的菜單項目。

#### 帳單管理 (Bill Order Management)
1. **CRUD 操作**：對 `bills` 和 `orders` 表進行操作，支持創建、檢索和更新帳單。
    - 創建帳單時，會將相關的訂單添加到帳單中。
    - 更新操作支持修改帳單中的菜單項目，增加或刪減菜單項目和修改數量。

2. **檢查帳單**：
    - 返回帳單的詳細信息，包括所有菜單項目、每個菜單項目的數量，以及該菜單項目的總價。
    - 會根據菜單項目的單價和數量計算出總價，並返回所有訂單的詳細數據。

### 資料庫表結構設計：

1. **items 表**：
    - 儲存菜單的基本信息，包括名稱、描述、圖片和價格等。

2. **orders 表**：
    - 儲存訂單信息，包括菜品 ID、數量和訂單時間。

3. **details 和 item_detail 表**：
    - 儲存菜品的分類信息，幫助管理菜品的類型和食材。

4. **bills 表**：
    - 儲存帳單基本信息，包含每個帳單的 ID。

5. **bill_order 表**：
    - 儲存帳單與訂單之間的關聯，記錄每個帳單下所包含的訂單。

---

### 系統 API 設計：

#### 菜單管理 API (Menu Management)

- **GET /menus**: 獲取所有菜單項目，支持分頁查詢。
    - 請求參數：
        - `page`: 當前頁碼。
        - `size`: 每頁顯示的菜單數量。
  
- **GET /menus/search**: 根據關鍵字搜尋菜單。
    - 請求參數：
        - `keyword`: 搜索關鍵字。

- **POST /menus**: 創建新菜單項目。
    - 請求體：菜單項目的詳細信息（名稱、描述、圖片、價格等）。

- **PUT /menus/{id}**: 更新指定菜單項目的信息。
    - 請求參數：
        - `id`: 菜單項目的 ID。
    - 請求體：更新後的菜單項目信息。

- **DELETE /menus/{id}**: 刪除指定菜單項目。
    - 請求參數：
        - `id`: 菜單項目的 ID。

#### 帳單管理 API (Bill Order Management)

- **GET /bills/{billId}/check**: 獲取指定帳單的詳細信息。
    - 請求參數：
        - `billId`: 帳單的 ID。
    - 返回結果：
        - 包含該帳單所有菜單項目、數量、總價等信息。

- **POST /bills**: 創建新帳單及其相關訂單。
    - 請求體：帳單信息和訂單列表。

- **PUT /bills/{billId}**: 更新指定帳單的菜單項目或數量。
    - 請求參數：
        - `billId`: 帳單的 ID。
    - 請求體：需要更新的訂單信息。



